<!-- Code adapted from https://www.section.io/engineering-education/django-google-oauth/ -->
{% load socialaccount %}
{% load bootstrap5 %}

{% bootstrap_css %}
{% bootstrap_javascript %}
<html>
<body>
{% block bootstrap5_content %}
{% if user.is_authenticated %}
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
     <div class="container-fluid">
       <a class="navbar-brand" href="{% url 'index' %}">Off-Grounds Housing</a>
       <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
         <span class="navbar-toggler-icon"></span>
       </button>
       <div class="collapse navbar-collapse justify-content-end" id="navbarSupportedContent">
         <ul class="navbar-nav">
           <li class="nav-item">
             <a class="nav-link" aria-current="page" href="{% url 'index' %}">Listings</a>
           </li>
           <li class="nav-item">
             <a class="nav-link" href="{% url 'account_logout' %}">Sign Out</a>
           </li>
         </ul>
       </div>
     </div>
   </nav>
{% else %}
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
     <div class="container-fluid">
       <a class="navbar-brand" href="{% url 'index' %}">Off-Grounds Housing</a>
       <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
         <span class="navbar-toggler-icon"></span>
       </button>
       <div class="collapse navbar-collapse justify-content-end" id="navbarSupportedContent">
         <ul class="navbar-nav">
           <li class="nav-item">
             <a class="nav-link" aria-current="page" href="{% url 'index' %}">Listings</a>
           </li>
           <li class="nav-item">
             <a class="nav-link" href="{% provider_login_url 'google' %}">Sign In/Register</a>
           </li>
         </ul>
       </div>
     </div>
   </nav>
{% endif %}
<br>
<br>
<div class="container">
    {% bootstrap_messages %}
    {% block content %}Content{% endblock %}
</div>
<footer>
  <div class="navbar fixed-bottom justify-content-center p-4" style="background-color: rgba(0, 0, 0, 0.05);">
    <p>Â© 2021 CS 3240 Group B-04. All rights reserved.</p>
  </div>
</footer>
{% endblock %}
</body>
</html>